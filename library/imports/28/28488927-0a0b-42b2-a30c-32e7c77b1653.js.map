{"version":3,"sources":["../../../../assets/script/assets/script/xPanel.js"],"names":["common","require","cc","Class","extends","Component","properties","contentNode","Node","femaleContentNode","yPanel","hairContentNode","legContentNode","faceContentNode","maskContentNode","bodyContentNode","furnitureContentNode","smallFurnitureContentNode","scrollView","panelNode","arrowNode","initWidth","xPanelIcons","node","getChildren","aveWidth","width","length","forEach","icon","hideAllContent","active","unSelectColor","child","getChildByName","color","setColorFunc","togglePanelWigdet","panelWidget","getComponent","Widget","rotateTo","rotateInit","enabled","collapsePanel","bottom","runAction","tabBarClickListener","tabBar","contentNodeName","on","EventType","TOUCH_END","e","target","name","ScrollView","content","removeAllFrame","unSelectorXIcon","showContent","onLoad","xPanelData","i","nodeName"],"mappings":"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","file":"xPanel.js","sourceRoot":"../../../../assets/script","sourcesContent":["var common = require('./common');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        contentNode: cc.Node,\n        femaleContentNode: cc.Node,\n        yPanel: cc.Node,\n        hairContentNode: cc.Node,\n        legContentNode: cc.Node,\n        faceContentNode: cc.Node,\n        maskContentNode: cc.Node,\n        bodyContentNode: cc.Node,\n        furnitureContentNode: cc.Node,\n        smallFurnitureContentNode: cc.Node,\n        scrollView: cc.Node,\n        panelNode: cc.Node,\n        arrowNode: cc.Node\n    },\n\n    initWidth() {\n        this.xPanelIcons = this.node.getChildren();\n        const aveWidth = this.node.width / this.xPanelIcons.length;\n        this.xPanelIcons.forEach(icon => {\n            icon.width = aveWidth;\n        });\n    },\n\n    hideAllContent() {\n        common.hideAllContent()\n        this.yPanel.active = false;\n    },\n\n    unSelectColor() {\n        this.node.getChildren().forEach(child => {\n            child.getChildByName('splash').color = common.setColorFunc(255, 255, 255);\n        });\n    },\n\n    togglePanelWigdet() {\n        let panelWidget = this.panelNode.getComponent(cc.Widget);\n        let rotateTo = cc.rotateTo(.1, 180, 0);\n        let rotateInit = cc.rotateTo(.1, 0, 0);\n        panelWidget.enabled = true;\n        if (!common.collapsePanel) {\n            common.collapsePanel = true;\n            panelWidget.bottom = -300;\n            this.arrowNode.getChildByName('sprite').runAction(rotateTo);\n        } else {\n            common.collapsePanel = false;\n            panelWidget.bottom = 0\n            this.arrowNode.getChildByName('sprite').runAction(rotateInit);\n        };\n    },\n\n    tabBarClickListener(tabBar, contentNodeName) {\n        this.node.getChildByName(tabBar).on(cc.Node.EventType.TOUCH_END, function (e) {\n            if (e.target.name === 'arrow') {\n                this.togglePanelWigdet();\n            } else {\n                if (common.collapsePanel) this.togglePanelWigdet();\n                if (tabBar !== 'man' && tabBar !== 'woman') {\n                    this.scrollView.getComponent(cc.ScrollView).content = this[contentNodeName];\n                }\n                common.removeAllFrame();\n                this.hideAllContent();\n                common.unSelectorXIcon();\n                this[contentNodeName].active = true;\n                e.target.getChildByName('splash').color = common.setColorFunc(235, 235, 235);\n                common.showContent = this[contentNodeName];\n            };\n        }, this);\n    },\n\n    onLoad() {\n        this.initWidth();\n        common.xPanelData.forEach(i => {\n            this.tabBarClickListener(i.nodeName, i.contentNodeName);\n        });\n    }\n});\n"]}